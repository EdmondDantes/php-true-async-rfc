<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="511px" preserveAspectRatio="none" style="width:873px;height:511px;background:#FFFFFF;" version="1.1" viewBox="0 0 873 511" width="873px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="81.873" style="stroke:#000000;stroke-width:1.5;" width="663.2417" x="10" y="163.2031"/><rect fill="none" height="56.582" style="stroke:#000000;stroke-width:1.5;" width="747.2881" x="120.4536" y="259.0762"/><rect fill="none" height="81.873" style="stroke:#000000;stroke-width:1.5;" width="663.2417" x="10" y="329.6582"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="40" x2="40" y1="83.6211" y2="428.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="203.4536" x2="203.4536" y1="83.6211" y2="428.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="558.4771" x2="558.4771" y1="83.6211" y2="428.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="20" y="80.1074">Client</text><ellipse cx="40.8965" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M40.8965,21.5 L40.8965,48.5 M27.8965,29.5 L53.8965,29.5 M40.8965,48.5 L27.8965,63.5 M40.8965,48.5 L53.8965,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="20" y="442.6387">Client</text><ellipse cx="40.8965" cy="454.6523" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M40.8965,462.6523 L40.8965,489.6523 M27.8965,470.6523 L53.8965,470.6523 M40.8965,489.6523 L27.8965,504.6523 M40.8965,489.6523 L53.8965,504.6523 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.8271" x="130.4536" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8271" x="137.4536" y="72.1074">Service (Main Scope)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.8271" x="130.4536" y="427.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.8271" x="137.4536" y="449.6387">Service (Main Scope)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.7646" x="455.4771" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.7646" x="462.4771" y="72.1074">Request Handler (Child Scope)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.7646" x="455.4771" y="427.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.7646" x="462.4771" y="449.6387">Request Handler (Child Scope)</text><polygon fill="#181818" points="192.3672,112.9121,202.3672,116.9121,192.3672,120.9121,196.3672,116.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="40.8965" x2="198.3672" y1="116.9121" y2="116.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.4707" x="47.8965" y="111.6494">New connection request</text><polygon fill="#181818" points="547.3594,144.2031,557.3594,148.2031,547.3594,152.2031,551.3594,148.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="204.3672" x2="553.3594" y1="148.2031" y2="148.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.2515" x="211.3672" y="142.9404">Create child scope and spawn coroutine</text><path d="M10,163.2031 L82.4346,163.2031 L82.4346,172.4941 L72.4346,182.4941 L10,182.4941 L10,163.2031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="81.873" style="stroke:#000000;stroke-width:1.5;" width="663.2417" x="10" y="163.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="25" y="178.2314">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95.9653" x="97.4346" y="177.0732">[For each request]</text><polygon fill="#181818" points="547.3594,201.7852,557.3594,205.7852,547.3594,209.7852,551.3594,205.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="40.8965" x2="553.3594" y1="205.7852" y2="205.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3335" x="47.8965" y="200.5225">Send request</text><polygon fill="#181818" points="51.8965,233.0762,41.8965,237.0762,51.8965,241.0762,47.8965,237.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.8965" x2="558.3594" y1="237.0762" y2="237.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.4517" x="57.8965" y="231.8135">Send response</text><path d="M120.4536,259.0762 L180.6245,259.0762 L180.6245,268.3672 L170.6245,278.3672 L120.4536,278.3672 L120.4536,259.0762 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="56.582" style="stroke:#000000;stroke-width:1.5;" width="747.2881" x="120.4536" y="259.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="135.4536" y="274.1045">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.2969" x="195.6245" y="272.9463">[Exception in child scope]</text><polygon fill="#181818" points="215.3672,300.6582,205.3672,304.6582,215.3672,308.6582,211.3672,304.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="209.3672" x2="558.3594" y1="304.6582" y2="304.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.9922" x="221.3672" y="299.3955">Exception propagated to setChildScopeExceptionHandler</text><path d="M564,283.3672 L564,310.3672 L852,310.3672 L852,293.3672 L842,283.3672 L564,283.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M842,283.3672 L842,293.3672 L852,293.3672 L842,283.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.3823" x="570" y="302.3955">Exception is logged, service continues running</text><path d="M10,329.6582 L70.1709,329.6582 L70.1709,338.9492 L60.1709,348.9492 L10,348.9492 L10,329.6582 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="81.873" style="stroke:#000000;stroke-width:1.5;" width="663.2417" x="10" y="329.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="344.6865">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120.4253" x="85.1709" y="343.5283">[Main scope cancelled]</text><polygon fill="#181818" points="547.3594,368.2402,557.3594,372.2402,547.3594,376.2402,551.3594,372.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="204.3672" x2="553.3594" y1="372.2402" y2="372.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2344" x="211.3672" y="366.9775">Cancel all child scopes</text><polygon fill="#181818" points="51.8965,399.5313,41.8965,403.5313,51.8965,407.5313,47.8965,403.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.8965" x2="558.3594" y1="403.5313" y2="403.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.3081" x="57.8965" y="398.2686">Disconnect</text><!--SRC=[TP5DJaCn38JtESMegoB11RfWym2neGjw0YlFUeqKEI5nASV7pVi5GNQH9zzu9kGr5NGniAZBL3Jua4aKknENp-0P-pSAWfDFcUzse8ffy5FzpXyNhefNaZvomRuxXzXldqqJvqOpF3pE91nmv2jy4c6l8GdAI7EpmBGp-82kC2d3DuDwCu3DK3DTnI0bNJG8EnTJodYnT4p-l21XPzrWfPxO65lHF3BLf5z4DIUfxEpY74N5yvVdt1QtfZPx_UQiUTSNkQHCWmNgeGcLjHNNUbj4StKtd2JBNi9mrYqbLCGq3DpV6s8qiJgj1uk3SX49CgpxjXyTc_CadcFali7_xhj9G35kizL_IteATVhAvlWD]--></g></svg>